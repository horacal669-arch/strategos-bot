<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login - STRATEGOS.HC</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Inter,sans-serif;background:linear-gradient(135deg,#0a0e27,#1a1f3a);color:#e0e6ed;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px}
.login-box{max-width:450px;width:100%;background:rgba(26,31,58,0.9);backdrop-filter:blur(20px);border-radius:24px;padding:50px;border:1px solid rgba(255,255,255,0.1);box-shadow:0 20px 60px rgba(0,0,0,0.5)}
.logo{text-align:center;margin-bottom:40px}
.logo-title{font-size:36px;font-weight:900;background:linear-gradient(135deg,#00d4ff,#00ff88);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:10px}
.logo-subtitle{font-size:14px;color:#8892a6;font-weight:600}
.tabs{display:flex;gap:10px;margin-bottom:30px;background:rgba(0,0,0,0.2);padding:5px;border-radius:12px}
.tab{flex:1;padding:12px;background:transparent;border:none;border-radius:8px;color:#8892a6;font-weight:700;cursor:pointer;transition:all 0.3s}
.tab.active{background:#00d4ff;color:#0a0e27}
.form-group{margin-bottom:20px}
.form-label{display:block;margin-bottom:8px;font-weight:600;font-size:14px;color:#e0e6ed}
.form-input{width:100%;padding:15px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:12px;color:#e0e6ed;font-size:15px}
.form-input:focus{outline:none;border-color:#00d4ff;box-shadow:0 0 20px rgba(0,212,255,0.2)}
.btn{width:100%;padding:18px;border:none;border-radius:12px;font-weight:800;cursor:pointer;background:linear-gradient(135deg,#00d4ff,#0099cc);color:white;font-size:16px;margin-top:10px;transition:all 0.3s}
.btn:hover{transform:translateY(-2px);box-shadow:0 10px 30px rgba(0,212,255,0.4)}
.error{background:rgba(255,51,102,0.1);border:1px solid #ff3366;border-radius:8px;padding:12px;margin-bottom:20px;color:#ff3366;font-size:14px;display:none}
.hidden{display:none}
</style>
</head>
<body>
<div class="login-box">
<div class="logo">
<div class="logo-title">STRATEGOS.HC</div>
<div class="logo-subtitle">Trading Bot Platform</div>
</div>

<div class="tabs">
<button class="tab active" onclick="showTab('login')">Login</button>
<button class="tab" onclick="showTab('register')">Registro</button>
</div>

<div class="error" id="error"></div>

<div id="login-form">
<div class="form-group">
<label class="form-label">Email</label>
<input type="email" class="form-input" id="login-email" placeholder="tu@email.com">
</div>
<div class="form-group">
<label class="form-label">Contraseña</label>
<input type="password" class="form-input" id="login-password" placeholder="Tu contraseña">
</div>
<button class="btn" onclick="login()">Iniciar Sesión</button>
</div>

<div id="register-form" class="hidden">
<div class="form-group">
<label class="form-label">Email</label>
<input type="email" class="form-input" id="register-email" placeholder="tu@email.com">
</div>
<div class="form-group">
<label class="form-label">Contraseña</label>
<input type="password" class="form-input" id="register-password" placeholder="Mínimo 6 caracteres">
</div>
<div class="form-group">
<label class="form-label">Confirmar Contraseña</label>
<input type="password" class="form-input" id="register-confirm" placeholder="Repite tu contraseña">
</div>
<button class="btn" onclick="register()">Crear Cuenta</button>
</div>
</div>

<script>
function showTab(tab){
document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
event.target.classList.add('active');
document.getElementById('login-form').classList.toggle('hidden',tab!=='login');
document.getElementById('register-form').classList.toggle('hidden',tab!=='register');
document.getElementById('error').style.display='none';
}

function login(){
const email=document.getElementById('login-email').value;
const password=document.getElementById('login-password').value;
if(!email||!password){showError('Completa todos los campos');return}
fetch('http://localhost:5000/api/login',{
method:'POST',
headers:{'Content-Type':'application/json'},
body:JSON.stringify({email,password})
})
.then(r=>r.json())
.then(d=>{
if(d.success){
localStorage.setItem('user_id',d.user_id);
window.location.href='dashboard.html';
}else{
showError(d.message||'Email o contraseña incorrectos');
}
})
.catch(()=>showError('Error de conexión'));
}

function register(){
const email=document.getElementById('register-email').value;
const password=document.getElementById('register-password').value;
const confirm=document.getElementById('register-confirm').value;
if(!email||!password||!confirm){showError('Completa todos los campos');return}
if(password!==confirm){showError('Las contraseñas no coinciden');return}
if(password.length<6){showError('Contraseña mínimo 6 caracteres');return}
fetch('http://localhost:5000/api/register',{
method:'POST',
headers:{'Content-Type':'application/json'},
body:JSON.stringify({email,password})
})
.then(r=>r.json())
.then(d=>{
if(d.success){
alert('✅ Cuenta creada! Ahora inicia sesión');
showTab('login');
}else{
showError(d.message||'Error al crear cuenta');
}
})
.catch(()=>showError('Error de conexión'));
}

function showError(msg){
const err=document.getElementById('error');
err.textContent=msg;
err.style.display='block';
}
</script>
</body>
</html>