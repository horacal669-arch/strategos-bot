<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>STRATEGOS.HC Pro</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-chart-3d"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap');
*{margin:0;padding:0;box-sizing:border-box}
:root{--primary:#00d4ff;--success:#00ff88;--danger:#ff3366;--bg:#0a0e27;--card:rgba(26,31,58,0.95);--text:#e0e6ed;--dim:#8892a6;--border:rgba(255,255,255,0.1)}
body{font-family:Inter,sans-serif;background:var(--bg);color:var(--text);overflow-x:hidden}
.bg-animated{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;background:radial-gradient(ellipse at 20% 20%,rgba(0,212,255,0.15),transparent 50%),radial-gradient(ellipse at 80% 80%,rgba(0,255,136,0.15),transparent 50%);animation:bgFloat 20s ease-in-out infinite}
@keyframes bgFloat{0%,100%{transform:translate(0,0)}50%{transform:translate(20px,20px)}}
.container{position:relative;z-index:1;max-width:1800px;margin:0 auto;padding:25px}
.header{background:linear-gradient(135deg,rgba(0,212,255,0.1),rgba(0,255,136,0.05));backdrop-filter:blur(20px);border:1px solid var(--border);border-radius:24px;padding:35px;margin-bottom:30px;box-shadow:0 20px 60px rgba(0,0,0,0.5);animation:slideDown 0.8s}
@keyframes slideDown{from{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}
.header-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}
.logo-box{display:flex;align-items:center;gap:20px}
.logo-icon{width:60px;height:60px;background:linear-gradient(135deg,var(--primary),var(--success));border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:32px;font-weight:900;color:white;box-shadow:0 15px 40px rgba(0,212,255,0.5);animation:pulse 3s ease-in-out infinite}
@keyframes pulse{0%,100%{box-shadow:0 15px 40px rgba(0,212,255,0.5);transform:scale(1)}50%{box-shadow:0 20px 50px rgba(0,255,136,0.7);transform:scale(1.05)}}
.logo-text h1{font-size:36px;font-weight:900;background:linear-gradient(135deg,var(--primary),var(--success));-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-1px;margin-bottom:5px}
.logo-text p{font-size:14px;color:var(--dim);font-weight:600;text-transform:uppercase;letter-spacing:2px}
.status-badges{display:flex;gap:12px}
.badge{padding:12px 24px;border-radius:50px;font-weight:700;font-size:13px;display:flex;align-items:center;gap:8px;backdrop-filter:blur(10px);border:1px solid;transition:all 0.3s;cursor:pointer}
.badge:hover{transform:translateY(-2px);box-shadow:0 10px 30px rgba(0,212,255,0.3)}
.badge-auto{background:rgba(0,255,136,0.1);border-color:var(--success);color:var(--success)}
.status-dot{width:8px;height:8px;border-radius:50%;background:currentColor;animation:statusPulse 2s ease-in-out infinite}
@keyframes statusPulse{0%,100%{opacity:1}50%{opacity:0.5}}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:30px}
.stat-card{background:var(--card);backdrop-filter:blur(10px);padding:30px;border-radius:20px;border:1px solid var(--border);position:relative;overflow:hidden;transition:all 0.4s}
.stat-card::before{content:'';position:absolute;top:0;left:0;width:100%;height:4px;background:linear-gradient(90deg,var(--primary),var(--success));transform:scaleX(0);transition:transform 0.5s}
.stat-card:hover{transform:translateY(-8px) scale(1.02);border-color:var(--primary);box-shadow:0 20px 50px rgba(0,212,255,0.3)}
.stat-card:hover::before{transform:scaleX(1)}
.stat-icon{font-size:42px;margin-bottom:15px;filter:drop-shadow(0 5px 15px rgba(0,212,255,0.5))}
.stat-label{color:var(--dim);font-size:13px;text-transform:uppercase;letter-spacing:1.5px;font-weight:700;margin-bottom:12px}
.stat-value{font-size:42px;font-weight:900;line-height:1;margin-bottom:10px}
.stat-change{font-size:15px;font-weight:700;display:flex;align-items:center;gap:6px}
.positive{color:var(--success)}
.negative{color:var(--danger)}
.main-grid{display:grid;grid-template-columns:2fr 1fr;gap:25px;margin-bottom:25px}
.card{background:var(--card);backdrop-filter:blur(20px);border-radius:24px;padding:35px;border:1px solid var(--border);box-shadow:0 15px 50px rgba(0,0,0,0.4)}
.card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding-bottom:20px;border-bottom:2px solid var(--border)}
.card-title{font-size:24px;font-weight:900;display:flex;align-items:center;gap:12px;color:var(--primary)}
.chart-container{position:relative;height:400px}
.controls{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px}
.btn{padding:18px 30px;border:none;border-radius:14px;font-weight:800;cursor:pointer;transition:all 0.3s;font-size:15px;text-transform:uppercase;letter-spacing:1px;position:relative;overflow:hidden}
.btn::before{content:'';position:absolute;top:50%;left:50%;width:0;height:0;background:rgba(255,255,255,0.2);border-radius:50%;transform:translate(-50%,-50%);transition:width 0.6s,height 0.6s}
.btn:hover::before{width:400px;height:400px}
.btn:active{transform:scale(0.95)}
.btn-primary{background:linear-gradient(135deg,var(--primary),#0099cc);color:white;box-shadow:0 10px 30px rgba(0,212,255,0.4)}
.btn-primary:hover{transform:translateY(-4px);box-shadow:0 15px 40px rgba(0,212,255,0.6)}
.btn-success{background:linear-gradient(135deg,var(--success),#00cc66);color:#0a0e27}
.btn-danger{background:linear-gradient(135deg,var(--danger),#cc0044);color:white}
.btn-secondary{background:rgba(255,255,255,0.1);color:var(--text);border:1px solid var(--border)}
@media (max-width:1400px){.main-grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="bg-animated"></div>
<div class="container">
<div class="header">
<div class="header-top">
<div class="logo-box">
<div class="logo-icon">S</div>
<div class="logo-text">
<h1>STRATEGOS.HC</h1>
<p>Autonomous Trading</p>
</div>
</div>
<div class="status-badges">
<div class="badge badge-auto">
<div class="status-dot"></div>
<span id="modo-badge">ü§ñ AUTO</span>
</div>
</div>
</div>
<div class="stats-grid">
<div class="stat-card">
<div class="stat-icon">üí∞</div>
<div class="stat-label">P&L Total</div>
<div class="stat-value positive" id="pnl">$0.00</div>
<div class="stat-change positive"><span>‚Üë</span><span id="pnl-change">Cargando...</span></div>
</div>
<div class="stat-card">
<div class="stat-icon">üéØ</div>
<div class="stat-label">Win Rate</div>
<div class="stat-value" id="wr">0%</div>
</div>
<div class="stat-card">
<div class="stat-icon">üìä</div>
<div class="stat-label">Operaciones</div>
<div class="stat-value" id="ops">0</div>
<div class="stat-change"><span id="ops-breakdown">0W¬∑0L¬∑0BE</span></div>
</div>
<div class="stat-card">
<div class="stat-icon">üíº</div>
<div class="stat-label">Saldo</div>
<div class="stat-value" id="saldo">$1,000</div>
</div>
</div>
</div>
<div class="main-grid">
<div class="card">
<div class="card-header">
<div class="card-title"><span>üìà</span><span>P&L Real-Time</span></div>
</div>
<div class="chart-container"><canvas id="chart"></canvas></div>
</div>
<div class="card">
<div class="card-header">
<div class="card-title"><span>üíº</span><span>Estado</span></div>
</div>
<p style="color:var(--success);font-size:18px;font-weight:700" id="status">‚úÖ Bot activo</p>
</div>
</div>
<div class="card">
<div class="card-header">
<div class="card-title"><span>üéÆ</span><span>Control</span></div>
</div>
<div class="controls">
<button class="btn btn-primary" onclick="verStats()">üìä Stats</button>
<button class="btn btn-success" onclick="cerrarOp()">üíµ Cerrar OP</button>
<button class="btn btn-secondary" onclick="pausar()">‚è∏Ô∏è Pausar</button>
<button class="btn btn-secondary" onclick="cambiarModo()">üîÑ Modo</button>
<button class="btn btn-secondary" onclick="config()">‚öôÔ∏è Config</button>
<button class="btn btn-danger" onclick="reset()">üóëÔ∏è Reset</button>
</div>
</div>
</div>
<script>
const ctx=document.getElementById('chart').getContext('2d');
const gradient=ctx.createLinearGradient(0,0,0,400);
gradient.addColorStop(0,'rgba(0,255,136,0.4)');
gradient.addColorStop(1,'rgba(0,255,136,0)');
const chart=new Chart(ctx,{type:'line',data:{labels:[],datasets:[{label:'P&L',data:[],borderColor:'#00ff88',backgroundColor:gradient,borderWidth:4,tension:0.4,fill:true,pointRadius:6,pointBackgroundColor:'#00ff88',pointBorderColor:'#0a0e27',pointBorderWidth:3}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false},tooltip:{backgroundColor:'rgba(26,31,58,0.95)',titleColor:'#e0e6ed',bodyColor:'#00ff88',borderColor:'#00d4ff',borderWidth:2,padding:15,callbacks:{label:ctx=>`P&L: $${ctx.parsed.y.toFixed(2)}`}}},scales:{x:{grid:{color:'rgba(255,255,255,0.05)'},ticks:{color:'#8892a6'}},y:{grid:{color:'rgba(255,255,255,0.05)'},ticks:{color:'#8892a6',callback:v=>`$${v}`}}}}});

function cargarStats(){
fetch('http://localhost:5000/api/stats')
.then(r=>r.json())
.then(d=>{
document.getElementById('pnl').textContent='$'+d.total_pnl.toFixed(2);
document.getElementById('pnl').className='stat-value '+(d.total_pnl>=0?'positive':'negative');
document.getElementById('wr').textContent=d.win_rate+'%';
document.getElementById('ops').textContent=d.total_ops;
document.getElementById('ops-breakdown').textContent=`${d.wins}W¬∑${d.losses}L¬∑${d.be}BE`;
document.getElementById('saldo').textContent='$'+(1000+d.total_pnl).toFixed(2);
document.getElementById('pnl-change').textContent=(d.total_pnl>=0?'+':'')+d.total_pnl.toFixed(2)+' hoy';
const now=new Date().toLocaleTimeString('es-AR',{hour:'2-digit',minute:'2-digit'});
if(chart.data.labels.length>20){chart.data.labels.shift();chart.data.datasets[0].data.shift()}
chart.data.labels.push(now);
chart.data.datasets[0].data.push(d.total_pnl);
chart.update('none');
}).catch(()=>{document.getElementById('status').textContent='‚ö†Ô∏è Desconectado'});
}

function pausar(){
fetch('http://localhost:5000/api/pausar',{method:'POST'})
.then(()=>alert('‚è∏Ô∏è Bot pausado'))
.catch(()=>alert('Error'));
}

function cambiarModo(){
fetch('http://localhost:5000/api/modo',{method:'POST',headers:{'Content-Type':'application/json'},body:'{}'})
.then(r=>r.json())
.then(d=>alert(d.modo?'ü§ñ Modo AUTO':'üë§ Modo MANUAL'))
.catch(()=>alert('Error'));
}

function reset(){
if(confirm('¬øResetear TODO?')){
fetch('http://localhost:5000/api/reset',{method:'POST'})
.then(()=>alert('üóëÔ∏è Reset completo'))
.catch(()=>alert('Error'));
}}

function verStats(){alert('üìä Stats completas pr√≥ximamente')}
function cerrarOp(){alert('üíµ Cerrar OP pr√≥ximamente')}
function config(){window.location.href='onboarding.html'}

cargarStats();
setInterval(cargarStats,3000);
</script>
</body>
</html>